<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.w3.org/1999/html">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <script src="https://code.jquery.com/jquery-3.6.0.js"></script>
</head>
<body>
  <h1>글 읽기</h1>
  <a th:href="@{/article/update/{id}(id=${articleId})}">수정</a>
  <form th:action="@{/article/delete/{id}(id=${articleId})}" method="post">
    <input type="hidden" name="_method" value="delete" />
    <!-- 다른 필드들을 여기에 추가 -->
    <button type="submit">삭제</button>
  </form>
  <textarea th:text="${article.writer}" readonly></textarea>
  <textarea th:text="${article.title}" readonly></textarea>
  <textarea th:text="${article.content}" readonly></textarea>
  <textarea th:text="${article.createdAt}" readonly></textarea>
  <textarea th:text="${article.updatedAt}" readonly></textarea>

  <a th:href="@{/article}">글목록</a>

  <script th:inline="javascript">

    function deleteArticle(articleId) {
      if (confirm('정말로 삭제하시겠습니까?')) {
        fetch('/article/delete/' + articleId, {
          method: 'DELETE'
        }).then(response => {
          // 삭제 후에 글 목록 페이지로 이동
          window.location.href = '/article';
        }).catch(error => {
          console.error('삭제 중 오류 발생:', error);
        });
      }
    }
  </script>
</body>
</html>